RootNode:
    BaseClass: TGrpCollapsible
    UtilObjectClass: TFrmPetraEditUtils
    Namespace: Ict.Petra.Client.MPartner.Gui   
    UsingNamespaces: [Ict.Petra.Shared.MPartner.Partner.Data]
    DatasetType: Ict.Petra.Shared.MPartner.Partner.Data.PartnerEditTDS
    FormType: edit
    Template: usercontrol
    MasterTable: PPartner    
    
    Actions:
        actMaintainWorkerField: {Label=&Worker Field..., ActionClick=MaintainWorkerField, Image: OMField.ico}
        
    Controls:
        pnlContent:
            Controls: [grpCollapsible]
            Dock: Fill

        grpCollapsible:
            Controls: [pnlLeft, pnlRight]
            ControlsOrientation: horizontal
            Label: Key Partner Data
            Dock: Top  
            Padding: 3,0,3,4
            
        pnlLeft:
            Controls: [pnlPartnerInfo, pnlFamily, pnlPerson, pnlChurch, pnlOrganisation, pnlUnit, pnlBank, pnlVenue, pnlOther, pnlAdditionalInfo]
            Dock: Fill

            
# Right-hand Panel (misc. information)            
        pnlRight:
            Controls: [pnlWorkerField, pnlSpacer, cmbPartnerStatus, txtStatusUpdated, txtLastContact]
            ColWidths: [0=Fixed:110]
            RowHeights: [2=Fixed:28, 3=Fixed:24, 4=Fixed:24]
            Dock: Right
            Width: 215
            
        pnlWorkerField: {Visible=false}
            Controls: 
                Row0: [btnWorkerField, txtWorkerField] 
            RowHeights: [0=Fixed:27]
            Margin: 0,0,0,0
            Padding: 0,0,5,0
            Dock: Top
        btnWorkerField:
            Action: actMaintainWorkerField
            Width: 100
            Align: right
        txtWorkerField:
            ReadOnly: true
            NoLabel: true
            Dock: Top
            BorderStyle: None
            
        pnlSpacer:
            Controls: [Empty]
            Height: 18
        Empty:
            
        cmbPartnerStatus: {Label=Partner &Status, DataField=StatusCode, List=PartnerStatusList, Width=100}
        txtStatusUpdated:
            ReadOnly: true
            Width: 100
            BorderStyle: None
        txtLastContact:
            DataField: MiscellaneousData.LastContactDate
            ReadOnly: true
            Width: 100
            BorderStyle: None

            
# Header (Partner 'Head' Data)
        pnlPartnerInfo:
            Controls: 
                Row0: [txtPartnerKey, txtPartnerClass]      
            ColWidths: [0=Fixed:80, 1=Fixed:218]  
            RowHeights: [0=Fixed:25]            
            Dock: Top

        txtPartnerKey:
            ReadOnly: true
            Label: Key
            Type: PartnerKey
            ShowLabel: false
            TabStop: false                      
        txtPartnerClass:
            ReadOnly: true
            Label: Class
            BorderStyle: None                        


# Footer (Gift Information)
        pnlAdditionalInfo: {ControlsOrientation=horizontal}
            Controls: [txtLastGiftDetailsDate, txtLastGiftDetails]
            ColWidths: [0=Fixed:80]
            RowHeights: [0=Fixed:20]
            Dock: Bottom

        txtLastGiftDetailsDate:
            Label: Last Gift
            DataField: MiscellaneousData.LastGiftDate
            ReadOnly: true
            Width: 88
            BorderStyle: None        
        txtLastGiftDetails:
            NoLabel: true
            DataField: MiscellaneousData.LastGiftInfo
            ReadOnly: true
            Width: 328
            Dock: Top
            BorderStyle: None
                            
 
# Data Fields for Partner Class FAMILY 
        pnlFamily: {Visible=false}
            Controls: 
                Row1: [txtFamilyTitle, txtFamilyFirstName, txtFamilyFamilyName]
                Row2: [pnlFamily2ndLine]
            Dock: Top                          
        txtFamilyTitle:
            Label: Title/Na&me            
            Width: 90
            DataField: PFamily.Title
        txtFamilyFirstName:
            NoLabel: true
            Width: 160
            Dock: Top
            DataField: PFamily.FirstName            
        txtFamilyFamilyName:
            NoLabel: true
            Dock: Top
            DataField: PFamily.FamilyName

        pnlFamily2ndLine:        
            Controls: [cmbFamilyAddresseeTypeCode, chkFamilyNoSolicitations]
            ControlsOrientation: horizontal
            ColWidths: [0=Fixed:300, 1=Fixed:115]
            RowHeights: [0=Fixed:28]
            Margin: 0,0,0,0
            ColSpan: 6
            Dock: Fill
            
        cmbFamilyAddresseeTypeCode: {Label=&Addressee Type, DataField=AddresseeTypeCode, List=AddresseeTypeList, Width=105}
        chkFamilyNoSolicitations:
            Label: No Solicitations
            CheckBoxAttachedLabel: right
            Align: right
            DataField: NoSolicitations
            OnChange: UpdateNoSolicitationsColouring

            
# Data Fields for Partner Class PERSON
        pnlPerson: {Visible=false}
            Controls: 
                Row1: [txtPersonTitle, txtPersonFirstName, txtPersonMiddleName, txtPersonFamilyName]
                Row2: [pnlPerson2ndLine]
            ColWidths: [0=Fixed:80]
            RowHeights: [0=Fixed:25]
            Dock: Top
            Visible: False
 
        txtPersonTitle:
            Label: Title/Na&me
            DataField: PPerson.Title            
            Width: 88
        txtPersonFirstName:
            NoLabel: true
            Dock: Top
            DataField: PPerson.FirstName
            Width: 124
        txtPersonMiddleName:
            NoLabel: true
            DataField: PPerson.MiddleName1
            Width: 30
        txtPersonFamilyName:
            NoLabel: true
            Dock: Top
            DataField: PPerson.FamilyName

        pnlPerson2ndLine:        
            Controls: [cmbPersonGender, cmbPersonAddresseeTypeCode, chkPersonNoSolicitations]
            ControlsOrientation: horizontal
            ColWidths: [0=Fixed:80, 2=Fixed:115]
            RowHeights: [0=Fixed:28]
            Margin: 0,0,0,0
            ColSpan: 6
            Dock: Fill

        cmbPersonGender: {Label=&Gender, DataField=PPerson.Gender, List=GenderList, Width=88}
        cmbPersonAddresseeTypeCode: {Label=&Addressee Type, DataField=AddresseeTypeCode, List=AddresseeTypeList, Width=105, Dock: Right}
        chkPersonNoSolicitations:
            Label: No Solicitations
            CheckBoxAttachedLabel: right
            Align: right
            DataField: NoSolicitations
            OnChange: UpdateNoSolicitationsColouring
            
            
# Data Fields for Partner Class CHURCH            
        pnlChurch: {Visible=false}
            Controls: [txtChurchName]
            ColWidths: [0=Fixed:80]
            Dock: Top
        txtChurchName:
            Label: Na&me            
            Width: 428
            Stretch: horizontally
            
            
# Data Fields for Partner Class ORGANISATION      
        pnlOrganisation: {Visible=false}
            Controls: [txtOrganisationName]
            ColWidths: [0=Fixed:80]
            Dock: Top
        txtOrganisationName:
            Label: Na&me            
            Width: 428
            Stretch: horizontally
            
            
# Data Fields for Partner Class UNIT
        pnlUnit: {Visible=false}
            Controls: [txtUnitName]
            ColWidths: [0=Fixed:80]
            Dock: Top
        txtUnitName:
            Label: Na&me            
            Width: 428
            Stretch: horizontally
            DataField: PUnit.UnitName
            
            
# Data Fields for Partner Class BANK
        pnlBank: {Visible=false}
            Controls: [txtBranchName]
            ColWidths: [0=Fixed:80]
            Dock: Top
        txtBranchName:
            Label: Na&me            
            Width: 428
            Stretch: horizontally
            
			
# Data Fields for Partner Class VENUE
        pnlVenue: {Visible=false}
            Controls: [txtVenueName]
            ColWidths: [0=Fixed:80]
            Dock: Top
        txtVenueName:
            Label: Na&me            
            Width: 428
            Stretch: horizontally
            
			
# Data Fields for all other Partner Classes
        pnlOther: {ControlsOrientation=horizontal, Visible=false}
            Controls: [cmbOtherAddresseeTypeCode, chkOtherNoSolicitations]
            ColWidths: [0=Fixed:300, 1=Fixed:115]
            RowHeights: [0=Fixed:28]
            Margin: 0,0,0,0
            ColSpan: 6
            Dock: Fill

        cmbOtherAddresseeTypeCode: {Label=&Addressee Type, DataField=AddresseeTypeCode, List=AddresseeTypeList, Width=105}
        chkOtherNoSolicitations:
            Label: No Solicitations
            CheckBoxAttachedLabel: right
            Align: right
            DataField: NoSolicitations
            OnChange: UpdateNoSolicitationsColouring